<!DOCTYPE html>
<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
	<!--<script src="http://angular-ui.github.com/bootstrap/ui-bootstrap-tpls-0.3.0.js"></script>
	<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" rel="stylesheet">-->
</head>

<body>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

<div ng-app="myApp" ng-controller="myCtrl">
	<!--<div accordion ng-repeat="some text">
	  <div accordion-group heading="test">-->
	  <h3>LOGIN</h3>
	  <p>Username: <input type="text" ng-model="username"></p>
	  <p>Password: <input type="text" ng-model="password"></p>
	  <button ng-click="login_click()">Login</button>
	  <p>{{username}}</p>
	  <p>{{password}}</p>
	  
	  <br />
	  <h3>FIND FOOD</h3>
	  <p><input type="text" ng-model="search_food_text"></p>
	  <button ng-click="search_food_click()">Search Food</button>
	  <ul id="found_foods_list">
	  	<li ng-repeat="x in search_food_data">
	  		<button ng-click="food_select_click($event)" ng-attr-id="{{x._id}}">
    			{{ x.name + ', ' + x._id }}
    		</button>
  		</li>
	  </ul>	
	  
	  <br />
	  <h3>CHECK MEAL</h3>
	  <button ng-click="check_meals_click()">Check Meals</button>
	  <br />

	  <h3>CHECK MACROS</h3>
	  <button ng-click="check_macros_click()">Check Macros</button>
	  <div id="macros_list">
	    <p>{{date}}</p>
	    <p>{{calories}}</p>
	    <p>{{protein}}</p>
	    <p>{{fat}}</p>
	    <p>{{carbs}}</p>
	    <ul id="found_foods_list_macros">
	  		<li ng-repeat="x in search_food_data_macros">
	  			<button ng-click="food_select_click($event)" ng-attr-id="{{x._id}}">
    				{{ x.name + ', ' + x._id }}
    			</button>
  			</li>
	  	</ul>	
	  </div>	
	  
	  <br />
	  <h3>ADD FOOD</h3>
	  <p>Name: <input type="text" ng-model="food_name"></p>
	  <p>Grams: <input type="text" ng-model="grams"></p>
	  <p>Calories: <input type="text" ng-model="calories"></p>
	  <p>Fat: <input type="text" ng-model="fat"></p>
	  <p>Carbs: <input type="text" ng-model="carbs"></p>
	  <p>Protein: <input type="text" ng-model="protein"></p>
	  <p>Fiber: <input type="text" ng-model="fiber"></p>
	  <button ng-click="add_food_click()">Add</button>
	  <!--</div>
	</div>-->
</div>

</body>

<script>
var app = angular.module('myApp', []);
app.controller('myCtrl', function($scope, $http) {
		$scope.login_click = function() {
   			$scope.username= "John";
    		$scope.password= "Doe";
    	}
    	$scope.search_food_click = function() {
    		$http.get("http://localhost:3000/meals").then(function(response) {
        		$scope.search_food_data = response.data;
		    });
	    }
	    $scope.food_select_click = function(event) {
	    	alert(event.target.id);
    		//http.get("http://localhost:3000/meals").then(function(response) {
        	//	$scope.myData = response.data;
		    //});
	    }
	    $scope.check_macros_click = function(event) {
	    	alert(event.target.id);
    		$http.get("http://localhost:3000/meals").then(function(response) {
        		$scope.macro_data = response.data;
		    });
	    }
});
</script>

</html>